<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soonpay - Exploration Quests</title>
  <link rel="icon" type="image/png" href="soonpay32.png">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(180deg, #0d0e2e 0%, #1a1035 100%);
      color: #ffffff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    }

    /* Navigation */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(13, 14, 46, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0, 64, 193, 0.2);
      padding: 16px 40px;
      z-index: 100;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
    }

    .navbar-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .navbar-logo {
      height: 40px;
      width: auto;
    }

    .help-icon-button {
      background: transparent;
      border: 2px solid rgba(0, 64, 193, 0.5);
      color: #ffffff;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .help-icon-button:hover {
      background: rgba(0, 64, 193, 0.3);
      border-color: rgba(0, 100, 255, 0.8);
      transform: scale(1.05);
    }

    /* Hero Section */
    .hero-section {
      padding: 140px 20px 60px;
      text-align: center;
    }

    .hero-content {
      max-width: 900px;
      margin: 0 auto;
    }

    .hero-title {
      font-size: 3.5rem;
      font-weight: 700;
      margin: 0 0 1.5rem 0;
      color: #ffffff;
      letter-spacing: -0.02em;
      line-height: 1.1;
    }

    .hero-description {
      font-size: 1.125rem;
      line-height: 1.6;
      color: #a0a4b8;
      margin: 0 auto 3rem;
      max-width: 700px;
    }

    .family-hero-image {
      width: 100vw;
      max-width: 100vw;
      max-height: 300px;
      margin: 0 calc(-50vw + 50%);
      display: block;
      object-fit: cover;
      object-position: center 30%;
    }

    /* Topics Section */
    .topics-section {
      padding: 40px 60px 80px;
      width: 100%;
    }

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 32px;
      width: 100%;
    }

    /* Topic Cards */
    .topic-card {
      background: linear-gradient(135deg, rgba(0, 64, 193, 0.15) 0%, rgba(26, 16, 53, 0.95) 100%);
      border: 1px solid rgba(0, 64, 193, 0.2);
      border-radius: 16px;
      padding: 32px 28px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .topic-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(0, 64, 193, 0.7), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .topic-card:hover {
      transform: translateY(-8px);
      border-color: rgba(0, 64, 193, 0.5);
      box-shadow: 0 20px 40px rgba(0, 64, 193, 0.2);
    }

    .topic-card:hover::before {
      opacity: 1;
    }

    /* Topic Icon */
    .topic-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, rgba(0, 64, 193, 0.1) 0%, rgba(255, 255, 255, 0.95) 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      font-size: 28px;
      box-shadow: 0 4px 12px rgba(0, 64, 193, 0.2);
    }

    /* Topic Title */
    .topic-title {
      font-size: 1.1rem;
      font-weight: 700;
      margin: 0 0 12px 0;
      color: #ffffff;
      letter-spacing: -0.01em;
      line-height: 1.3;
    }

    /* Topic Description */
    .topic-description {
      font-size: 0.9375rem;
      line-height: 1.6;
      color: #a0a4b8;
      margin: 0 0 24px 0;
    }

    /* Quests List */
    .quests-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .quest-item {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 18px 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      border-radius: 12px;
      margin: 0;
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(255, 215, 0, 0.05) 100%);
      border: 2px solid #d4af37;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.2);
    }

    .quest-item:hover {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.25) 0%, rgba(255, 215, 0, 0.15) 100%);
      border-color: #f0d070;
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
      transform: translateY(-2px);
    }

    .quest-check {
      display: none;
    }

    .quest-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: #f0d070;
      line-height: 1.5;
      text-align: center;
      letter-spacing: 0.02em;
    }

    .quest-item:hover .quest-title {
      color: #ffd700;
    }

    /* Welcome Modal */
    .welcome-modal {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .welcome-modal.hidden {
      display: none;
    }

    .welcome-modal-logo {
      height: 60px;
      width: auto;
      margin-bottom: 24px;
    }

    .welcome-modal-content {
      background: linear-gradient(135deg, rgba(13, 14, 46, 0.98) 0%, rgba(26, 16, 53, 0.98) 100%);
      border: 2px solid rgba(0, 64, 193, 0.3);
      border-radius: 20px;
      padding: 40px;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0, 64, 193, 0.3);
      text-align: center;
    }

    .welcome-modal-title {
      font-size: 2rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
    }

    .welcome-modal-text {
      font-size: 1.125rem;
      line-height: 1.6;
      color: #a0a4b8;
      margin-bottom: 30px;
    }

    .modal-button {
      background: linear-gradient(135deg, rgba(0, 64, 193, 0.8) 0%, rgba(0, 100, 255, 0.8) 100%);
      border: 2px solid rgba(0, 64, 193, 0.5);
      color: #ffffff;
      padding: 14px 32px;
      font-size: 1.125rem;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 8px;
    }

    .modal-button:hover {
      background: linear-gradient(135deg, rgba(0, 64, 193, 1) 0%, rgba(0, 100, 255, 1) 100%);
      border-color: rgba(0, 100, 255, 0.8);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 64, 193, 0.4);
    }

    .modal-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .app-download-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
      margin-bottom: 30px;
    }

    .app-button {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.8) 0%, rgba(255, 215, 0, 0.8) 100%);
      border: 2px solid #d4af37;
      color: #1a1035;
      padding: 12px 24px;
      font-size: 1rem;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .app-button:hover {
      background: linear-gradient(135deg, rgba(212, 175, 55, 1) 0%, rgba(255, 215, 0, 1) 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
    }

    .modal-form-group {
      margin-bottom: 24px;
      text-align: left;
    }

    .modal-form-label {
      display: block;
      font-size: 1rem;
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 8px;
    }

    .modal-form-input {
      width: 100%;
      padding: 12px 16px;
      font-size: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      color: #ffffff;
      transition: all 0.3s ease;
    }

    .modal-form-input:focus {
      outline: none;
      border-color: rgba(0, 64, 193, 0.5);
      background: rgba(255, 255, 255, 0.15);
    }

    .modal-form-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .modal-step {
      display: none;
    }

    .modal-step.active {
      display: block;
    }

    .powered-by-section {
      margin-top: 24px;
      text-align: center;
    }

    .powered-by-text {
      font-size: 0.875rem;
      color: #a0a4b8;
      margin-bottom: 8px;
    }

    .powered-by-logo {
      height: 30px;
      width: auto;
    }

    .modal-checkbox-group {
      margin-bottom: 24px;
      text-align: left;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }

    .modal-checkbox {
      margin-top: 4px;
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .modal-checkbox-label {
      font-size: 0.875rem;
      color: #a0a4b8;
      line-height: 1.5;
      flex: 1;
    }

    .modal-checkbox-label a {
      color: #6366f1;
      text-decoration: underline;
      cursor: pointer;
    }

    .modal-checkbox-label a:hover {
      color: #818cf8;
    }

    /* Document Modal */
    .document-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 3000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .document-modal.active {
      display: flex;
    }

    .document-modal-content {
      background: linear-gradient(135deg, rgba(13, 14, 46, 0.98) 0%, rgba(26, 16, 53, 0.98) 100%);
      border: 2px solid rgba(0, 64, 193, 0.3);
      border-radius: 20px;
      padding: 40px;
      max-width: 800px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 64, 193, 0.3);
      position: relative;
    }

    .document-modal-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0, 64, 193, 0.8);
      color: #ffffff;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .document-modal-close:hover {
      background: rgba(0, 64, 193, 1);
      transform: scale(1.1);
    }

    .document-modal-title {
      font-size: 1.75rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
    }

    .document-modal-text {
      font-size: 0.9375rem;
      line-height: 1.8;
      color: #a0a4b8;
    }

    .document-modal-text h3 {
      color: #ffffff;
      margin-top: 20px;
      margin-bottom: 10px;
    }

    .document-modal-text p {
      margin-bottom: 15px;
    }

    /* Iframe Modal */
    .iframe-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
      padding: 20px;
    }

    .iframe-modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .iframe-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      height: 90vh;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .iframe-close {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 48px;
      height: 48px;
      background: #d4af37;
      color: #1a1035;
      border: 3px solid #1a1035;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.5rem;
      font-weight: 700;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1001;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .iframe-close:hover {
      background: #f0d070;
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
    }

    .iframe-modal iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Footer Section */
    .footer-section {
      padding: 60px 20px 80px;
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
    }

    .footer-powered-text {
      font-size: 0.875rem;
      color: #a0a4b8;
      margin-bottom: 16px;
    }

    .footer-logo {
      height: 40px;
      width: auto;
      margin-bottom: 20px;
    }

    .footer-description {
      font-size: 1rem;
      line-height: 1.6;
      color: #a0a4b8;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2.5rem;
      }

      .hero-description {
        font-size: 1rem;
      }

      .topics-section {
        padding: 40px 20px 80px;
      }

      .topics-grid {
        grid-template-columns: 1fr;
      }

      .topic-card {
        padding: 28px 24px;
      }
    }

    @media (min-width: 769px) and (max-width: 1100px) {
      .topics-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="navbar-content">
      <img src="Soonpaylogo.png" alt="Soonpay" class="navbar-logo">
      <button class="help-icon-button" onclick="openInstructionsModal()" aria-label="Instructions">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
          <path d="M12 16V12M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </nav>

  <!-- Welcome Modal -->
  <div class="welcome-modal" id="welcomeModal">
    <div class="welcome-modal-content">
      <!-- Logo -->
      <img src="Soonpaylogo.png" alt="Soonpay" class="welcome-modal-logo">

      <!-- Step 1: Welcome Message -->
      <div class="modal-step active" id="welcomeStep">
        <h2 class="welcome-modal-title">Welcome to Soonpay Exploration Quests</h2>
        <p class="welcome-modal-text">
          Tap "Continue" to participate in the quests and learn about the value we bring to individuals, businesses, governments, and educational institutions conducting remittances.
        </p>
        <button class="modal-button" onclick="showFormStep()">Continue</button>

        <div class="powered-by-section">
          <div class="powered-by-text">Powered By</div>
          <img src="logoBase.png" alt="Powered By" class="powered-by-logo">
        </div>
      </div>

      <!-- Step 2: Form -->
      <div class="modal-step" id="formStep">
        <h2 class="welcome-modal-title">Get Started</h2>
        <p class="welcome-modal-text" style="margin-bottom: 20px;">Download the SoonPay app and complete the form below</p>

        <!-- App Download Buttons -->
        <div class="app-download-buttons">
          <a href="#" class="app-button" target="_blank">
            <svg fill="currentColor" width="20px" height="20px" viewBox="-6.5 0 32 32" style="vertical-align: middle; margin-right: 8px;" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.313 7.219c0.25-0.688 0.406-1.281 0.406-1.844 0-0.094-0.031-0.156-0.031-0.25s-0.031-0.219-0.063-0.344c-1.563 0.344-2.656 1.031-3.344 2.031-0.688 0.969-1.031 2.125-1.063 3.469 0.563-0.063 1.031-0.156 1.375-0.25 0.469-0.156 0.969-0.469 1.469-0.938 0.563-0.563 1-1.25 1.25-1.875zM11.531 10.344c-0.938 0.313-1.594 0.438-1.938 0.438-0.281 0-0.875-0.125-1.844-0.375-0.938-0.281-1.719-0.438-2.406-0.438-1.531 0-2.813 0.656-3.844 1.969-1 1.313-1.5 2.969-1.5 5.031 0 2.219 0.656 4.469 1.969 6.781 1.344 2.313 2.719 3.438 4.063 3.438 0.438 0 1-0.156 1.781-0.438 0.719-0.281 1.344-0.438 1.906-0.438s1.25 0.125 2.031 0.406c0.813 0.281 1.438 0.406 1.906 0.406 1.156 0 2.313-0.875 3.469-2.594 0.375-0.563 0.719-1.156 1-1.719 0.25-0.531 0.469-1.094 0.656-1.625-0.844-0.25-1.563-0.844-2.156-1.719-0.594-0.906-0.906-1.906-0.906-3 0-1.031 0.281-1.938 0.844-2.781 0.344-0.438 0.875-1 1.563-1.594-0.219-0.281-0.469-0.563-0.688-0.781-0.25-0.219-0.469-0.406-0.688-0.563-0.875-0.563-1.844-0.875-2.906-0.875-0.625 0-1.406 0.188-2.313 0.469z"></path>
            </svg>
            Download for iOS
          </a>
          <a href="#" class="app-button" target="_blank">
            <svg width="20px" height="20px" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 8px;" xmlns="http://www.w3.org/2000/svg">
              <path d="M18.06 9.33002C17.8107 9.33002 17.5716 9.42905 17.3953 9.60534C17.219 9.78162 17.12 10.0207 17.12 10.27V14.53C17.12 14.7793 17.219 15.0184 17.3953 15.1947C17.5716 15.371 17.8107 15.47 18.06 15.47C18.3093 15.47 18.5484 15.371 18.7247 15.1947C18.901 15.0184 19 14.7793 19 14.53V10.27C19 10.0207 18.901 9.78162 18.7247 9.60534C18.5484 9.42905 18.3093 9.33002 18.06 9.33002Z"/>
              <path d="M5.94 9.33002C5.6907 9.33002 5.4516 9.42905 5.27532 9.60534C5.09904 9.78162 5 10.0207 5 10.27V14.53C5 14.7793 5.09904 15.0184 5.27532 15.1947C5.4516 15.371 5.6907 15.47 5.94 15.47C6.1893 15.47 6.4284 15.371 6.60468 15.1947C6.78096 15.0184 6.88 14.7793 6.88 14.53V10.27C6.88 10.0207 6.78096 9.78162 6.60468 9.60534C6.4284 9.42905 6.1893 9.33002 5.94 9.33002Z"/>
              <path d="M7.56 9.33002V15.73C7.56 15.8705 7.58767 16.0097 7.64145 16.1395C7.69522 16.2693 7.77403 16.3873 7.87339 16.4866C7.97275 16.586 8.09071 16.6648 8.22053 16.7186C8.35034 16.7723 8.48948 16.8 8.63 16.8H9.31V19.07C9.31 19.3193 9.40903 19.5584 9.58532 19.7347C9.7616 19.911 10.0007 20.01 10.25 20.01C10.4993 20.01 10.7384 19.911 10.9147 19.7347C11.091 19.5584 11.19 19.3193 11.19 19.07V16.8H12.81V19.07C12.81 19.3193 12.909 19.5584 13.0853 19.7347C13.2616 19.911 13.5007 20.01 13.75 20.01C13.9993 20.01 14.2384 19.911 14.4147 19.7347C14.591 19.5584 14.69 19.3193 14.69 19.07V16.8H15.37C15.6538 16.8 15.9259 16.6873 16.1266 16.4866C16.3273 16.286 16.44 16.0138 16.44 15.73V9.33002H7.56Z"/>
              <path d="M16.32 8.00002C16.0257 7.01263 15.373 6.17089 14.49 5.64002L14.34 5.55002L14.18 5.47002L14.36 5.16002L14.89 4.16002C14.9 4.13153 14.9006 4.10055 14.8916 4.07171C14.8826 4.04288 14.8645 4.01773 14.84 4.00002H14.77C14.7445 4.00117 14.7195 4.00805 14.697 4.02017C14.6745 4.03229 14.655 4.04933 14.64 4.07002L14.1 5.00002L13.93 5.31002L13.77 5.24002L13.6 5.18002C12.5637 4.82036 11.4363 4.82036 10.4 5.18002L10.24 5.24002L10.07 5.31002L9.9 5.00002L9.36 4.00002C9.3508 3.98361 9.33847 3.96916 9.32369 3.95752C9.30892 3.94587 9.292 3.93724 9.27389 3.93214C9.25578 3.92703 9.23684 3.92554 9.21816 3.92775C9.19948 3.92996 9.18141 3.93583 9.165 3.94502C9.14858 3.95422 9.13414 3.96655 9.12249 3.98133C9.11084 3.9961 9.10222 4.01303 9.09711 4.03113C9.09201 4.04924 9.09051 4.06818 9.09273 4.08686C9.09494 4.10554 9.1008 4.12361 9.11 4.14002L9.64 5.14002L9.82 5.45002L9.66 5.53002L9.51 5.62002C8.62277 6.15307 7.97197 7.00413 7.69 8.00002C7.61195 8.25988 7.56825 8.52883 7.56 8.80002H16.44C16.4302 8.5297 16.3899 8.26133 16.32 8.00002ZM10 7.47002C9.92089 7.47002 9.84355 7.44656 9.77777 7.40261C9.71199 7.35866 9.66072 7.29619 9.63045 7.2231C9.60017 7.15001 9.59225 7.06958 9.60768 6.99199C9.62312 6.91439 9.66121 6.84312 9.71715 6.78718C9.7731 6.73124 9.84437 6.69314 9.92196 6.67771C9.99955 6.66228 10.08 6.6702 10.1531 6.70047C10.2262 6.73075 10.2886 6.78202 10.3326 6.8478C10.3765 6.91358 10.4 6.99091 10.4 7.07002C10.4 7.17611 10.3579 7.27785 10.2828 7.35287C10.2078 7.42788 10.1061 7.47002 10 7.47002ZM14 7.47002C13.9209 7.47002 13.8435 7.44656 13.7778 7.40261C13.712 7.35866 13.6607 7.29619 13.6304 7.2231C13.6002 7.15001 13.5922 7.06958 13.6077 6.99199C13.6231 6.91439 13.6612 6.84312 13.7172 6.78718C13.7731 6.73124 13.8444 6.69314 13.922 6.67771C13.9996 6.66228 14.08 6.6702 14.1531 6.70047C14.2262 6.73075 14.2886 6.78202 14.3326 6.8478C14.3765 6.91358 14.4 6.99091 14.4 7.07002C14.4 7.17611 14.3579 7.27785 14.2828 7.35287C14.2078 7.42788 14.1061 7.47002 14 7.47002Z"/>
            </svg>
            Download for Android
          </a>
        </div>

        <!-- Form -->
        <form id="welcomeForm" onsubmit="submitWelcomeForm(event)">
          <div class="modal-form-group">
            <label class="modal-form-label" for="userEmail">Email Address *</label>
            <input
              type="email"
              id="userEmail"
              class="modal-form-input"
              placeholder="Enter your email"
              required
            >
          </div>

          <div class="modal-checkbox-group">
            <input
              type="checkbox"
              id="termsCheckbox"
              class="modal-checkbox"
              required
            >
            <label for="termsCheckbox" class="modal-checkbox-label">
              I have read and comply with the
              <a onclick="openDocumentModal('privacy')">Privacy Policy</a>,
              <a onclick="openDocumentModal('pdpo')">PDPO Data Consent Notice</a>, and
              <a onclick="openDocumentModal('terms')">T&Cs</a>.
            </label>
          </div>

          <button type="submit" class="modal-button" id="submitButton">Start Exploring</button>
        </form>

        <div class="powered-by-section">
          <div class="powered-by-text">Powered By</div>
          <img src="logoBase.png" alt="Powered By" class="powered-by-logo">
        </div>
      </div>
    </div>
  </div>

  <div class="side-quest-page">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">Exploration Quests</h1>
        <p class="hero-description">
          Welcome to Soonpay Exploration Quests. Complete quests to learn about the value we bring to individuals, businesses, governments, and educational institutions conducting remittances. Each topic demostrates areas in which SoonPay is looking to innovate the economic around sending funds cross border and ensure value is mutual.
        </p>

        <!-- Family Image -->
        <img src="family2.png" alt="Family" class="family-hero-image">
      </div>
    </div>

    <!-- Topics Section -->
    <div class="topics-section">
      <div class="topics-grid" id="topicsGrid">
        <!-- Topics will be dynamically inserted here -->
      </div>
    </div>

    <!-- Footer Section -->
    <div class="footer-section">
      <div class="footer-powered-text">Powered By</div>
      <img src="logoBase.png" alt="Skylark" class="footer-logo">
      <p class="footer-description">
        Powered By Skylark, an onchain activation platform to help enable Community Discovery and having Rewarding Experiences.
      </p>
    </div>

    <!-- Iframe Modal -->
    <div class="iframe-modal" id="iframeModal">
      <div class="iframe-container">
        <button class="iframe-close" onclick="closeIframe()" aria-label="Close">×</button>
        <iframe id="questIframe" src="" allow="payment; microphone; camera"></iframe>
      </div>
    </div>

    <!-- Document Modals -->
    <div class="document-modal" id="privacyModal">
      <div class="document-modal-content">
        <button class="document-modal-close" onclick="closeDocumentModal('privacy')" aria-label="Close">×</button>
        <h2 class="document-modal-title">Privacy Policy</h2>
        <div class="document-modal-text">
          <p><strong>Last Updated: 23/11/2025</strong></p>

          <p>This Privacy Policy explains how Skylark ("we", "our", "us") collects, uses, stores, and protects personal data when users participate in quests, polls, quizzes, and engagement activities created in partnership with Soonpay.</p>

          <p>We comply with the Data Protection and Privacy Act, 2019 ("DPPA") and the Data Protection and Privacy Regulations, 2021, enforced by the Personal Data Protection Office (PDPO) under NITA-U.</p>

          <p>By using Skylark, you agree to the practices described in this Privacy Policy.</p>

          <h3>1. Who We Are</h3>
          <p>Skylark (Nectar Technologies LLC)<br>
          Email: jlewis@skylarknova.xyz</p>

          <p>Where Skylark processes personal data jointly with Soonpay, Soonpay may also act as a Data Controller or Data Processor, depending on the specific activity (e.g., reward fulfillment, financial education tools, or Soonpay account onboarding).</p>

          <h3>2. What This Policy Covers</h3>
          <p>This policy applies to:</p>
          <p>• Skylark quests, polls, quizzes, and learning modules<br>
          • User profiles created for quest participation<br>
          • Reward distribution activities<br>
          • Any data collected through the Skylark platform from users in Uganda or Ugandan citizens abroad</p>

          <h3>3. Data We Collect</h3>
          <p>We only collect data necessary for the purpose of delivering and improving the quest experience.</p>

          <p><strong>3.1 Data You Provide Directly</strong></p>
          <p>• Name (optional depending on quest)<br>
          • Email or phone number<br>
          • User profile information (nickname, country selection, preferences)<br>
          • Poll and quiz responses<br>
          • Activity progress, participation history, and earned rewards<br>
          • Feedback or survey responses</p>

          <p><strong>3.2 Sensitive or High-Risk Data</strong></p>
          <p>We do not collect national ID numbers, passport numbers, or financial credentials through quests unless explicitly required for a reward and clearly disclosed. If any quest targets minors, we require parent/guardian consent, as required by DPPA.</p>

          <p><strong>3.3 Automatically Collected Data</strong></p>
          <p>• IP address<br>
          • Device information<br>
          • Browser type<br>
          • Session logs<br>
          • Usage analytics (page views, clicks, completion rates)</p>
          <p>This is collected to improve platform performance and security.</p>

          <h3>4. Why We Collect Your Data (Purpose + Legal Basis)</h3>
          <p>Under DPPA, we collect and process personal data only with a lawful basis.</p>

          <p><strong>4.1 To Deliver and Manage Quests (Performance of Contract)</strong></p>
          <p>• Run interactive quests, polls, and quizzes<br>
          • Track progress and award XP, badges, or rewards<br>
          • Personalize the quest experience</p>

          <p><strong>4.2 To Communicate With You (Consent or Legitimate Interest)</strong></p>
          <p>• Notify you of new quests<br>
          • Share educational updates<br>
          • Send event or program information<br>
          You may opt out at any time.</p>

          <p><strong>4.3 Analytics & Service Improvement (Legitimate Interests)</strong></p>
          <p>• Understand which quests are effective<br>
          • Improve educational materials<br>
          • Measure engagement<br>
          • Prevent misuse or fraud</p>

          <p><strong>4.4 Safety, Legal & Compliance (Legal Obligation)</strong></p>
          <p>• Respond to lawful requests by regulators or PDPO<br>
          • Maintain audit logs<br>
          • Protect users' data and system integrity</p>

          <h3>5. How We Share Your Data</h3>
          <p>We do not sell your data.</p>
          <p>We may share personal data with:</p>
          <p>• Soonpay, only for quests related to Soonpay education, rewards, or platform onboarding<br>
          • Cloud hosting providers (secure & access-controlled)<br>
          • Analytics services (aggregated or pseudo-anonymized data)<br>
          • Regulators where legally required</p>
          <p>Every third-party processor is required to follow secure, DPPA-compliant data protection standards.</p>

          <h3>6. International Data Transfers</h3>
          <p>If Skylark stores data outside Uganda (e.g., in the US/EU cloud):</p>
          <p>• We apply adequate safeguards required under DPPA<br>
          • We ensure strict contractual protections<br>
          • Data is encrypted in transit and at rest</p>

          <h3>7. Data Retention</h3>
          <p>We retain personal data only as long as needed for its purpose.</p>
          <p>Typical retention periods:</p>
          <p>• Quest participation data: 12–24 months<br>
          • User accounts: active use + 12 months<br>
          • Analytics logs: 3–12 months<br>
          • Support messages: 90–180 days</p>
          <p>You can request deletion at any time (see Rights section).</p>

          <h3>8. Data Security</h3>
          <p>We use industry-standard security measures including:</p>
          <p>• HTTPS encryption<br>
          • Access control & role-based permissions<br>
          • Encrypted cloud storage<br>
          • Regular security audits<br>
          • Staff confidentiality and security training</p>

          <h3>9. Your Rights (Under DPPA 2019)</h3>
          <p>You have the right to:</p>
          <p>• Access your personal data<br>
          • Correct/update inaccurate data<br>
          • Withdraw consent at any time<br>
          • Object to processing<br>
          • Request deletion (where applicable)<br>
          • Ask how your data is being used<br>
          • Complain to the PDPO if you believe your data rights were violated</p>
          <p>To exercise any rights, email us at [insert contact].</p>
          <p>To lodge a complaint with PDPO:<br>
          Personal Data Protection Office (NITA-U)<br>
          Website: https://www.pdpo.go.ug</p>

          <h3>10. Children's Data</h3>
          <p>Skylark is not intended for children under 18 years without parental/guardian consent. We do not knowingly collect data from minors without required authorization.</p>

          <h3>11. Changes to This Policy</h3>
          <p>We may update this Privacy Policy from time to time. Changes will be communicated through the platform or email.</p>

          <h3>12. Contact Information</h3>
          <p>For privacy questions, rights requests, or concerns:</p>
          <p>Data Protection Lead – Skylark<br>
          Email: jlewis@skylarknova.xyz</p>
        </div>
      </div>
    </div>

    <div class="document-modal" id="pdpoModal">
      <div class="document-modal-content">
        <button class="document-modal-close" onclick="closeDocumentModal('pdpo')" aria-label="Close">×</button>
        <h2 class="document-modal-title">PDPO-Compliant Consent Statement</h2>
        <div class="document-modal-text">
          <p>By tapping "Agree & Continue", you confirm that:</p>

          <p>• You understand and consent to Skylark collecting and processing your personal data for the purposes of running quests, polls, quizzes, rewards, and educational activities.</p>

          <p>• You acknowledge that Skylark processes data in accordance with the Data Protection and Privacy Act, 2019, and the Data Protection and Privacy Regulations, 2021.</p>

          <p>• You understand that your data may be shared with Soonpay only where relevant to a specific quest or reward, and only under strict data protection safeguards.</p>

          <p>• You have read and agree to the Privacy Policy and Terms & Conditions.</p>

          <p>• You understand you may withdraw consent at any time by contacting: jlewis@skylarknova.xyz.</p>

          <p>• You understand your rights, including access, correction, deletion, objection to processing, and lodging a complaint with the Personal Data Protection Office (PDPO).</p>
        </div>
      </div>
    </div>

    <div class="document-modal" id="termsModal">
      <div class="document-modal-content">
        <button class="document-modal-close" onclick="closeDocumentModal('terms')" aria-label="Close">×</button>
        <h2 class="document-modal-title">Terms & Conditions</h2>
        <div class="document-modal-text">
          <p><strong>Last Updated: 23/11/2025</strong></p>

          <p>These Terms & Conditions ("Terms") govern your use of the Skylark Quest Platform ("the Platform"), including participation in quests, polls, quizzes, rewards, and digital engagement activities designed in partnership with Soonpay. By accessing or using Skylark, you agree to these Terms.</p>

          <h3>1. Acceptance of Terms</h3>
          <p>By creating an account, participating in quests, or interacting with Skylark in any way, you confirm that you:</p>
          <p>• Have read and understood these Terms<br>
          • Agree to comply with them<br>
          • Consent to our Privacy Policy</p>
          <p>If you do not agree, do not use the Platform.</p>

          <h3>2. Definitions</h3>
          <p>• "Platform" – Skylark's digital quest and engagement system<br>
          • "User" / "You" – Anyone who accesses or interacts with the Platform<br>
          • "Account" – Your personal Skylark profile<br>
          • "Quests" – Interactive learning modules, polls, quizzes, challenges<br>
          • "Rewards" – Badges, points, digital items, or physical/financial rewards (where applicable)<br>
          • "Content" – All information on the Platform including text, graphics, and user submissions</p>

          <h3>3. Eligibility & User Accounts</h3>
          <p>You must be:</p>
          <p>• At least 18 years old, or<br>
          • Have parent/guardian consent if you are a minor</p>
          <p>You agree to:</p>
          <p>• Provide accurate information<br>
          • Keep your login information secure<br>
          • Notify Skylark immediately of unauthorized access</p>
          <p>Skylark may suspend or terminate accounts that violate these Terms or Ugandan law.</p>

          <h3>4. Use of the Platform</h3>
          <p>You agree NOT to:</p>
          <p>• Use the Platform for unlawful activities<br>
          • Attempt to hack, reverse-engineer, or disrupt services<br>
          • Upload or post harmful, offensive, or illegal content<br>
          • Impersonate another individual</p>
          <p>You may:</p>
          <p>• Participate in quests<br>
          • Submit quiz/poll answers<br>
          • Earn rewards<br>
          • Share anonymized feedback</p>

          <h3>5. Rewards, Points & Digital Items</h3>
          <p>Rewards earned through quests may include points or XP, digital badges, event-based rewards, educational benefits, and Soonpay-linked incentives.</p>
          <p>Rewards:</p>
          <p>• Are non-transferable unless explicitly stated<br>
          • Have no guaranteed monetary value<br>
          • May change, expire, or be modified at Skylark's discretion</p>
          <p>Skylark is not responsible for tax implications arising from physical or monetary rewards.</p>

          <h3>6. Intellectual Property</h3>
          <p>All Platform content (designs, text, graphics, software) is owned by Skylark or licensed partners.</p>
          <p>You may not copy or distribute Platform content without permission, use Skylark branding without written approval, or repurpose quest content for commercial use.</p>
          <p>You retain rights to content you create but grant Skylark a non-exclusive, royalty-free license to use anonymized or aggregated submissions to improve the Platform.</p>

          <h3>7. Third-Party Services</h3>
          <p>Skylark may integrate with services such as Soonpay, cloud hosting providers, and analytics tools. Each third party has its own policies. Skylark is not responsible for their content or practices.</p>

          <h3>8. Privacy & Data Protection</h3>
          <p>Your personal data is processed in line with the Skylark Privacy Policy, Uganda's Data Protection and Privacy Act, 2019, and Data Protection & Privacy Regulations, 2021.</p>
          <p>Users can access, correct, delete, or object to data processing as described in the Privacy Policy.</p>

          <h3>9. Service Availability & Changes</h3>
          <p>Skylark may update or change features without notice, does not guarantee continuous or error-free functionality, and may temporarily suspend services for maintenance.</p>

          <h3>10. Limitation of Liability</h3>
          <p>To the fullest extent permitted by Ugandan law, Skylark is not liable for indirect or consequential losses, user errors or misuse of the Platform, or losses resulting from third-party service issues.</p>

          <h3>11. Indemnity</h3>
          <p>You agree to indemnify Skylark against claims arising from your breach of these Terms, misuse of the Platform, illegal behavior, or violation of third-party rights.</p>

          <h3>12. Governing Law & Dispute Resolution</h3>
          <p>These Terms are governed by the laws of Uganda. Disputes will be resolved through good-faith negotiation, mediation or arbitration (if agreed by parties), or Ugandan courts where necessary.</p>

          <h3>13. Changes to These Terms</h3>
          <p>We may update these Terms at any time. Continued use after updates = acceptance of new Terms.</p>

          <h3>14. Contact Information</h3>
          <p>For questions or concerns:</p>
          <p>Skylark – Legal & Compliance<br>
          Email: jlewis@skylarknova.xyz</p>
        </div>
      </div>
    </div>

    <!-- Instructions Modal -->
    <div class="document-modal" id="instructionsModal">
      <div class="document-modal-content">
        <button class="document-modal-close" onclick="closeInstructionsModal()" aria-label="Close">×</button>
        <h2 class="document-modal-title">Instructions for Soonpay Exploration Quests</h2>
        <div class="document-modal-text">
          <p>Welcome to Soonpay Exploration Quests — an interactive learning experience designed to help you understand, explore, and get the most value from Soonpay. Through short quests, polls, and quizzes, you'll learn how to save more on remittances, plan better for your family, unlock automatic insurance benefits, and discover how digital money tools can strengthen your financial future. Take these steps to build your confidence, empower your decisions, and earn rewards along the way. Tap "Explore" as a part of each topic to begin your journey.</p>

          <h3>Rewards</h3>
          <p>• Earn points and badges for completing quests</p>
          <p>• Unlock exclusive benefits and incentives</p>
          <p>• Gain valuable knowledge about remittances and financial tools</p>
          <p>• Access special features within the Soonpay platform</p>

          <h3>Getting Started</h3>
          <p>• Complete the welcome form to begin your journey</p>
          <p>• Download the Soonpay app for the best experience</p>
          <p>• Explore different quest topics to learn about remittances</p>

          <h3>How to Complete Quests</h3>
          <p>• Click the "Explore" button on any topic card</p>
          <p>• Complete the interactive activities within each quest</p>
          <p>• Learn about Soonpay's innovative approach to remittances</p>

          <h3>Quest Topics</h3>
          <p>• Smarter Remittances & Hidden Fees Awareness</p>
          <p>• Purposeful Savings & Family Budgeting</p>
          <p>• Health & Protection</p>
          <p>• Stablecoins & Instant Digital Money Rails</p>
          <p>• Empowering Families & Community Development</p>
          <p>• Social Quests</p>

          <h3>Need Help?</h3>
          <p>If you have questions or need assistance, please contact us at jlewis@skylarknova.xyz</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Document Modal Functions
    function openDocumentModal(type) {
      const modalIds = {
        'privacy': 'privacyModal',
        'pdpo': 'pdpoModal',
        'terms': 'termsModal'
      };
      const modalId = modalIds[type];
      if (modalId) {
        document.getElementById(modalId).classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeDocumentModal(type) {
      const modalIds = {
        'privacy': 'privacyModal',
        'pdpo': 'pdpoModal',
        'terms': 'termsModal'
      };
      const modalId = modalIds[type];
      if (modalId) {
        document.getElementById(modalId).classList.remove('active');
        document.body.style.overflow = 'hidden'; // Keep overflow hidden since welcome modal is still open
      }
    }

    // Instructions Modal Functions
    function openInstructionsModal() {
      document.getElementById('instructionsModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeInstructionsModal() {
      document.getElementById('instructionsModal').classList.remove('active');
      // Check if welcome modal is open
      const welcomeModal = document.getElementById('welcomeModal');
      if (welcomeModal && welcomeModal.style.display !== 'none') {
        document.body.style.overflow = 'hidden';
      } else {
        document.body.style.overflow = 'auto';
      }
    }

    // Welcome Modal Functions
    function showFormStep() {
      document.getElementById('welcomeStep').classList.remove('active');
      document.getElementById('formStep').classList.add('active');
    }

    async function submitWelcomeForm(event) {
      event.preventDefault();

      const email = document.getElementById('userEmail').value;
      const termsCheckbox = document.getElementById('termsCheckbox');
      const submitButton = document.getElementById('submitButton');

      if (email) {
        const consentGiven = termsCheckbox.checked;

        // Disable submit button and show loading state
        submitButton.disabled = true;
        submitButton.textContent = 'Submitting...';

        try {
          // Send to serverless function
          const response = await fetch('/api/submit-quest', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              email: email,
              consent: consentGiven
            })
          });

          const data = await response.json();

          console.log('Response status:', response.status);
          console.log('Response ok:', response.ok);
          console.log('Response data:', data);

          if (response.ok) {
            console.log('Successfully saved to Notion!');
            console.log('Hiding modal...');
            // Hide the modal
            const modal = document.getElementById('welcomeModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            console.log('Modal hidden, overflow set to auto');
          } else {
            console.error('API Error:', data);
            alert('Error submitting form: ' + (data.error || 'Unknown error'));
            submitButton.disabled = false;
            submitButton.textContent = 'Start Exploring';
          }
        } catch (error) {
          console.error('Error:', error);
          alert('Error submitting form. Please try again.');
          submitButton.disabled = false;
          submitButton.textContent = 'Start Exploring';
        }
      }
    }

    // Show modal on page load
    window.addEventListener('load', function() {
      document.getElementById('welcomeModal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    });

    // Data
    const topics = [
      {
        id: 1,
        title: 'Smarter Remittances & Hidden Fees Awareness',
        icon: '',
        description: 'Learn to identify hidden fees and choose cost-effective remittance options for sending money home.',
        quests: [
          { id: 1, title: 'Explore', completed: false }
        ]
      },
      {
        id: 2,
        title: 'Purposeful Savings & Family Budgeting',
        icon: '',
        description: 'Build sustainable savings habits and create budgets that support your family\'s financial goals.',
        quests: [
          { id: 2, title: 'Explore', completed: false }
        ]
      },
      {
        id: 3,
        title: 'Health & Protection',
        icon: '',
        description: 'Secure affordable health coverage and protection for your loved ones near and far.',
        quests: [
          { id: 3, title: 'Explore', completed: false }
        ]
      },
      {
        id: 4,
        title: 'Stablecoins & Instant Digital Money Rails',
        icon: '',
        description: 'Discover how digital currencies and instant payment systems can transform how you send money.',
        quests: [
          { id: 4, title: 'Explore', completed: false }
        ]
      },
      {
        id: 5,
        title: 'Empowering Families & Community Development',
        icon: '',
        description: 'Support local communities and create lasting impact through collective financial empowerment.',
        quests: [
          { id: 5, title: 'Explore', completed: false }
        ]
      },
      {
        id: 6,
        title: 'Social Quests',
        icon: '',
        description: 'Celebrate Soonpay in this movement and stay in touch on socials to follow the journey of how they are changing the way remittances are handled',
        quests: [
          { id: 6, title: 'Explore', completed: false }
        ]
      }
    ];

    // Open iframe for quest
    function openQuest(url) {
      const modal = document.getElementById('iframeModal');
      const iframe = document.getElementById('questIframe');
      iframe.src = url;
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    // Close iframe
    function closeIframe() {
      const modal = document.getElementById('iframeModal');
      const iframe = document.getElementById('questIframe');
      iframe.src = '';
      modal.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Toggle quest completion (now opens iframe for Mountain Expedition)
    function toggleQuest(topicId, questId) {
      // Open the patron activation page in iframe
      openQuest('https://app.skylarknova.xyz/patronActivation/66c9bf7f879b3cae7985666e');
    }

    // Render topics
    function renderTopics() {
      const grid = document.getElementById('topicsGrid');
      grid.innerHTML = '';

      topics.forEach(topic => {
        const card = document.createElement('div');
        card.className = 'topic-card';

        const questsHTML = topic.quests.map(quest => `
          <li class="quest-item" onclick="toggleQuest(${topic.id}, ${quest.id})">
            <span class="quest-check ${quest.completed ? 'completed' : ''}">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
                <path d="M10 3L4.5 8.5L2 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </span>
            <span class="quest-title">${quest.title}</span>
          </li>
        `).join('');

        card.innerHTML = `
          ${topic.icon ? `<div class="topic-icon"><span>${topic.icon}</span></div>` : ''}
          <h2 class="topic-title">${topic.title}</h2>
          <p class="topic-description">${topic.description}</p>
          <ul class="quests-list">
            ${questsHTML}
          </ul>
        `;

        grid.appendChild(card);
      });
    }

    // Initialize
    renderTopics();
  </script>
</body>
</html>
