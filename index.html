<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Side Quest</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(180deg, #0d0e2e 0%, #1a1035 100%);
      color: #ffffff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    }

    /* Navigation */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(13, 14, 46, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0, 64, 193, 0.2);
      padding: 16px 40px;
      z-index: 100;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
    }

    .navbar-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: flex-start;
    }

    .navbar-logo {
      height: 40px;
      width: auto;
    }

    /* Hero Section */
    .hero-section {
      padding: 140px 20px 60px;
      text-align: center;
    }

    .hero-content {
      max-width: 900px;
      margin: 0 auto;
    }

    .hero-title {
      font-size: 3.5rem;
      font-weight: 700;
      margin: 0 0 1.5rem 0;
      color: #ffffff;
      letter-spacing: -0.02em;
      line-height: 1.1;
    }

    .hero-description {
      font-size: 1.125rem;
      line-height: 1.6;
      color: #a0a4b8;
      margin: 0 auto 3rem;
      max-width: 700px;
    }

    .family-hero-image {
      width: 100vw;
      max-width: 100vw;
      max-height: 300px;
      margin: 0 calc(-50vw + 50%);
      display: block;
      object-fit: cover;
      object-position: center 30%;
    }

    /* Topics Section */
    .topics-section {
      padding: 40px 60px 80px;
      width: 100%;
    }

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 32px;
      width: 100%;
    }

    /* Topic Cards */
    .topic-card {
      background: linear-gradient(135deg, rgba(0, 64, 193, 0.15) 0%, rgba(26, 16, 53, 0.95) 100%);
      border: 1px solid rgba(0, 64, 193, 0.2);
      border-radius: 16px;
      padding: 32px 28px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .topic-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(0, 64, 193, 0.7), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .topic-card:hover {
      transform: translateY(-8px);
      border-color: rgba(0, 64, 193, 0.5);
      box-shadow: 0 20px 40px rgba(0, 64, 193, 0.2);
    }

    .topic-card:hover::before {
      opacity: 1;
    }

    /* Topic Icon */
    .topic-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, rgba(0, 64, 193, 0.1) 0%, rgba(255, 255, 255, 0.95) 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      font-size: 28px;
      box-shadow: 0 4px 12px rgba(0, 64, 193, 0.2);
    }

    /* Topic Title */
    .topic-title {
      font-size: 1.1rem;
      font-weight: 700;
      margin: 0 0 12px 0;
      color: #ffffff;
      letter-spacing: -0.01em;
      line-height: 1.3;
    }

    /* Topic Description */
    .topic-description {
      font-size: 0.9375rem;
      line-height: 1.6;
      color: #a0a4b8;
      margin: 0 0 24px 0;
    }

    /* Quests List */
    .quests-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .quest-item {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 18px 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      border-radius: 12px;
      margin: 0;
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(255, 215, 0, 0.05) 100%);
      border: 2px solid #d4af37;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.2);
    }

    .quest-item:hover {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.25) 0%, rgba(255, 215, 0, 0.15) 100%);
      border-color: #f0d070;
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
      transform: translateY(-2px);
    }

    .quest-check {
      display: none;
    }

    .quest-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: #f0d070;
      line-height: 1.5;
      text-align: center;
      letter-spacing: 0.02em;
    }

    .quest-item:hover .quest-title {
      color: #ffd700;
    }

    /* Welcome Modal */
    .welcome-modal {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .welcome-modal.hidden {
      display: none;
    }

    .welcome-modal-logo {
      height: 60px;
      width: auto;
      margin-bottom: 24px;
    }

    .welcome-modal-content {
      background: linear-gradient(135deg, rgba(13, 14, 46, 0.98) 0%, rgba(26, 16, 53, 0.98) 100%);
      border: 2px solid rgba(0, 64, 193, 0.3);
      border-radius: 20px;
      padding: 40px;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0, 64, 193, 0.3);
      text-align: center;
    }

    .welcome-modal-title {
      font-size: 2rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
    }

    .welcome-modal-text {
      font-size: 1.125rem;
      line-height: 1.6;
      color: #a0a4b8;
      margin-bottom: 30px;
    }

    .modal-button {
      background: linear-gradient(135deg, rgba(0, 64, 193, 0.8) 0%, rgba(0, 100, 255, 0.8) 100%);
      border: 2px solid rgba(0, 64, 193, 0.5);
      color: #ffffff;
      padding: 14px 32px;
      font-size: 1.125rem;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 8px;
    }

    .modal-button:hover {
      background: linear-gradient(135deg, rgba(0, 64, 193, 1) 0%, rgba(0, 100, 255, 1) 100%);
      border-color: rgba(0, 100, 255, 0.8);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 64, 193, 0.4);
    }

    .modal-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .app-download-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
      margin-bottom: 30px;
    }

    .app-button {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.8) 0%, rgba(255, 215, 0, 0.8) 100%);
      border: 2px solid #d4af37;
      color: #1a1035;
      padding: 12px 24px;
      font-size: 1rem;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .app-button:hover {
      background: linear-gradient(135deg, rgba(212, 175, 55, 1) 0%, rgba(255, 215, 0, 1) 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
    }

    .modal-form-group {
      margin-bottom: 24px;
      text-align: left;
    }

    .modal-form-label {
      display: block;
      font-size: 1rem;
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 8px;
    }

    .modal-form-input {
      width: 100%;
      padding: 12px 16px;
      font-size: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      color: #ffffff;
      transition: all 0.3s ease;
    }

    .modal-form-input:focus {
      outline: none;
      border-color: rgba(0, 64, 193, 0.5);
      background: rgba(255, 255, 255, 0.15);
    }

    .modal-form-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .modal-step {
      display: none;
    }

    .modal-step.active {
      display: block;
    }

    .powered-by-section {
      margin-top: 24px;
      text-align: center;
    }

    .powered-by-text {
      font-size: 0.875rem;
      color: #a0a4b8;
      margin-bottom: 8px;
    }

    .powered-by-logo {
      height: 30px;
      width: auto;
    }

    .modal-checkbox-group {
      margin-bottom: 24px;
      text-align: left;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }

    .modal-checkbox {
      margin-top: 4px;
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .modal-checkbox-label {
      font-size: 0.875rem;
      color: #a0a4b8;
      line-height: 1.5;
      flex: 1;
    }

    .modal-checkbox-label a {
      color: #6366f1;
      text-decoration: underline;
      cursor: pointer;
    }

    .modal-checkbox-label a:hover {
      color: #818cf8;
    }

    /* Document Modal */
    .document-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 3000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .document-modal.active {
      display: flex;
    }

    .document-modal-content {
      background: linear-gradient(135deg, rgba(13, 14, 46, 0.98) 0%, rgba(26, 16, 53, 0.98) 100%);
      border: 2px solid rgba(0, 64, 193, 0.3);
      border-radius: 20px;
      padding: 40px;
      max-width: 800px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 64, 193, 0.3);
      position: relative;
    }

    .document-modal-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0, 64, 193, 0.8);
      color: #ffffff;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .document-modal-close:hover {
      background: rgba(0, 64, 193, 1);
      transform: scale(1.1);
    }

    .document-modal-title {
      font-size: 1.75rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
    }

    .document-modal-text {
      font-size: 0.9375rem;
      line-height: 1.8;
      color: #a0a4b8;
    }

    .document-modal-text h3 {
      color: #ffffff;
      margin-top: 20px;
      margin-bottom: 10px;
    }

    .document-modal-text p {
      margin-bottom: 15px;
    }

    /* Iframe Modal */
    .iframe-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
      padding: 20px;
    }

    .iframe-modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .iframe-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      height: 90vh;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .iframe-close {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 48px;
      height: 48px;
      background: #d4af37;
      color: #1a1035;
      border: 3px solid #1a1035;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.5rem;
      font-weight: 700;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1001;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .iframe-close:hover {
      background: #f0d070;
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
    }

    .iframe-modal iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Footer Section */
    .footer-section {
      padding: 60px 20px 80px;
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
    }

    .footer-powered-text {
      font-size: 0.875rem;
      color: #a0a4b8;
      margin-bottom: 16px;
    }

    .footer-logo {
      height: 40px;
      width: auto;
      margin-bottom: 20px;
    }

    .footer-description {
      font-size: 1rem;
      line-height: 1.6;
      color: #a0a4b8;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2.5rem;
      }

      .hero-description {
        font-size: 1rem;
      }

      .topics-section {
        padding: 40px 20px 80px;
      }

      .topics-grid {
        grid-template-columns: 1fr;
      }

      .topic-card {
        padding: 28px 24px;
      }
    }

    @media (min-width: 769px) and (max-width: 1100px) {
      .topics-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="navbar-content">
      <img src="Soonpaylogo.png" alt="Soonpay" class="navbar-logo">
    </div>
  </nav>

  <!-- Welcome Modal -->
  <div class="welcome-modal" id="welcomeModal">
    <div class="welcome-modal-content">
      <!-- Logo -->
      <img src="Soonpaylogo.png" alt="Soonpay" class="welcome-modal-logo">

      <!-- Step 1: Welcome Message -->
      <div class="modal-step active" id="welcomeStep">
        <h2 class="welcome-modal-title">Welcome to Soonpay Exploration Quests</h2>
        <p class="welcome-modal-text">
          Tap "Continue" to participate in the quests and learn about the value we bring to individuals, businesses, governments, and educational institutions conducting remittances.
        </p>
        <button class="modal-button" onclick="showFormStep()">Continue</button>

        <div class="powered-by-section">
          <div class="powered-by-text">Powered By</div>
          <img src="logoBase.png" alt="Powered By" class="powered-by-logo">
        </div>
      </div>

      <!-- Step 2: Form -->
      <div class="modal-step" id="formStep">
        <h2 class="welcome-modal-title">Get Started</h2>
        <p class="welcome-modal-text" style="margin-bottom: 20px;">Download the SoonPay app and complete the form below</p>

        <!-- App Download Buttons -->
        <div class="app-download-buttons">
          <a href="#" class="app-button" target="_blank">ðŸ“± Download for iOS</a>
          <a href="#" class="app-button" target="_blank">ðŸ¤– Download for Android</a>
        </div>

        <!-- Form -->
        <form id="welcomeForm" onsubmit="submitWelcomeForm(event)">
          <div class="modal-form-group">
            <label class="modal-form-label" for="userEmail">Email Address *</label>
            <input
              type="email"
              id="userEmail"
              class="modal-form-input"
              placeholder="Enter your email"
              required
            >
          </div>

          <div class="modal-form-group">
            <label class="modal-form-label" for="appProof">Proof of App Installation *</label>
            <input
              type="file"
              id="appProof"
              class="modal-form-input"
              accept="image/*"
              required
            >
            <small style="color: #a0a4b8; font-size: 0.875rem; margin-top: 4px; display: block;">Maximum file size: 3MB</small>
          </div>

          <div class="modal-checkbox-group">
            <input
              type="checkbox"
              id="termsCheckbox"
              class="modal-checkbox"
              required
            >
            <label for="termsCheckbox" class="modal-checkbox-label">
              I have read and comply with the
              <a onclick="openDocumentModal('privacy')">Privacy Policy</a>,
              <a onclick="openDocumentModal('pdpo')">PDPO Data Consent Notice</a>, and
              <a onclick="openDocumentModal('terms')">T&Cs</a>.
            </label>
          </div>

          <button type="submit" class="modal-button" id="submitButton">Start Exploring</button>
        </form>

        <div class="powered-by-section">
          <div class="powered-by-text">Powered By</div>
          <img src="logoBase.png" alt="Powered By" class="powered-by-logo">
        </div>
      </div>
    </div>
  </div>

  <div class="side-quest-page">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">Exploration Quests</h1>
        <p class="hero-description">
          Welcome to Soonpay Exploration Quests. Complete quests to learn about the value we bring to individuals, businesses, governments, and educational institutions conducting remittances. Each topic demostrates areas in which SoonPay is looking to innovate the economic around sending funds cross border and ensure value is mutual.
        </p>

        <!-- Family Image -->
        <img src="family2.png" alt="Family" class="family-hero-image">
      </div>
    </div>

    <!-- Topics Section -->
    <div class="topics-section">
      <div class="topics-grid" id="topicsGrid">
        <!-- Topics will be dynamically inserted here -->
      </div>
    </div>

    <!-- Footer Section -->
    <div class="footer-section">
      <div class="footer-powered-text">Powered By</div>
      <img src="logoBase.png" alt="Skylark" class="footer-logo">
      <p class="footer-description">
        Powered By Skylark, a onchain activation platform to help bridge Community Discovery and having Rewarding Experiences.
      </p>
    </div>

    <!-- Iframe Modal -->
    <div class="iframe-modal" id="iframeModal">
      <div class="iframe-container">
        <button class="iframe-close" onclick="closeIframe()" aria-label="Close">Ã—</button>
        <iframe id="questIframe" src="" allow="payment; microphone; camera"></iframe>
      </div>
    </div>

    <!-- Document Modals -->
    <div class="document-modal" id="privacyModal">
      <div class="document-modal-content">
        <button class="document-modal-close" onclick="closeDocumentModal('privacy')" aria-label="Close">Ã—</button>
        <h2 class="document-modal-title">Privacy Policy</h2>
        <div class="document-modal-text">
          <p>This is a placeholder for your Privacy Policy. Please replace this content with your actual privacy policy.</p>
          <h3>Information We Collect</h3>
          <p>We collect information you provide directly to us, including email addresses and uploaded images for verification purposes.</p>
          <h3>How We Use Your Information</h3>
          <p>We use the information we collect to provide, maintain, and improve our services.</p>
          <h3>Information Sharing</h3>
          <p>We do not share your personal information with third parties except as described in this policy.</p>
        </div>
      </div>
    </div>

    <div class="document-modal" id="pdpoModal">
      <div class="document-modal-content">
        <button class="document-modal-close" onclick="closeDocumentModal('pdpo')" aria-label="Close">Ã—</button>
        <h2 class="document-modal-title">PDPO-Compliant Consent Statement</h2>
        <div class="document-modal-text">
          <p>By tapping "Agree & Continue", you confirm that:</p>

          <p>â€¢ You understand and consent to Skylark collecting and processing your personal data for the purposes of running quests, polls, quizzes, rewards, and educational activities.</p>

          <p>â€¢ You acknowledge that Skylark processes data in accordance with the Data Protection and Privacy Act, 2019, and the Data Protection and Privacy Regulations, 2021.</p>

          <p>â€¢ You understand that your data may be shared with Soonpay only where relevant to a specific quest or reward, and only under strict data protection safeguards.</p>

          <p>â€¢ You have read and agree to the Privacy Policy and Terms & Conditions.</p>

          <p>â€¢ You understand you may withdraw consent at any time by contacting: [insert email].</p>

          <p>â€¢ You understand your rights, including access, correction, deletion, objection to processing, and lodging a complaint with the Personal Data Protection Office (PDPO).</p>
        </div>
      </div>
    </div>

    <div class="document-modal" id="termsModal">
      <div class="document-modal-content">
        <button class="document-modal-close" onclick="closeDocumentModal('terms')" aria-label="Close">Ã—</button>
        <h2 class="document-modal-title">Terms & Conditions</h2>
        <div class="document-modal-text">
          <p><strong>Last Updated: [Insert Date]</strong></p>

          <p>These Terms & Conditions ("Terms") govern your use of the Skylark Quest Platform ("the Platform"), including participation in quests, polls, quizzes, rewards, and digital engagement activities designed in partnership with Soonpay. By accessing or using Skylark, you agree to these Terms.</p>

          <h3>1. Acceptance of Terms</h3>
          <p>By creating an account, participating in quests, or interacting with Skylark in any way, you confirm that you:</p>
          <p>â€¢ Have read and understood these Terms<br>
          â€¢ Agree to comply with them<br>
          â€¢ Consent to our Privacy Policy</p>
          <p>If you do not agree, do not use the Platform.</p>

          <h3>2. Definitions</h3>
          <p>â€¢ "Platform" â€“ Skylark's digital quest and engagement system<br>
          â€¢ "User" / "You" â€“ Anyone who accesses or interacts with the Platform<br>
          â€¢ "Account" â€“ Your personal Skylark profile<br>
          â€¢ "Quests" â€“ Interactive learning modules, polls, quizzes, challenges<br>
          â€¢ "Rewards" â€“ Badges, points, digital items, or physical/financial rewards (where applicable)<br>
          â€¢ "Content" â€“ All information on the Platform including text, graphics, and user submissions</p>

          <h3>3. Eligibility & User Accounts</h3>
          <p>You must be:</p>
          <p>â€¢ At least 18 years old, or<br>
          â€¢ Have parent/guardian consent if you are a minor</p>
          <p>You agree to:</p>
          <p>â€¢ Provide accurate information<br>
          â€¢ Keep your login information secure<br>
          â€¢ Notify Skylark immediately of unauthorized access</p>
          <p>Skylark may suspend or terminate accounts that violate these Terms or Ugandan law.</p>

          <h3>4. Use of the Platform</h3>
          <p>You agree NOT to:</p>
          <p>â€¢ Use the Platform for unlawful activities<br>
          â€¢ Attempt to hack, reverse-engineer, or disrupt services<br>
          â€¢ Upload or post harmful, offensive, or illegal content<br>
          â€¢ Impersonate another individual</p>
          <p>You may:</p>
          <p>â€¢ Participate in quests<br>
          â€¢ Submit quiz/poll answers<br>
          â€¢ Earn rewards<br>
          â€¢ Share anonymized feedback</p>

          <h3>5. Rewards, Points & Digital Items</h3>
          <p>Rewards earned through quests may include points or XP, digital badges, event-based rewards, educational benefits, and Soonpay-linked incentives.</p>
          <p>Rewards:</p>
          <p>â€¢ Are non-transferable unless explicitly stated<br>
          â€¢ Have no guaranteed monetary value<br>
          â€¢ May change, expire, or be modified at Skylark's discretion</p>
          <p>Skylark is not responsible for tax implications arising from physical or monetary rewards.</p>

          <h3>6. Intellectual Property</h3>
          <p>All Platform content (designs, text, graphics, software) is owned by Skylark or licensed partners.</p>
          <p>You may not copy or distribute Platform content without permission, use Skylark branding without written approval, or repurpose quest content for commercial use.</p>
          <p>You retain rights to content you create but grant Skylark a non-exclusive, royalty-free license to use anonymized or aggregated submissions to improve the Platform.</p>

          <h3>7. Third-Party Services</h3>
          <p>Skylark may integrate with services such as Soonpay, cloud hosting providers, and analytics tools. Each third party has its own policies. Skylark is not responsible for their content or practices.</p>

          <h3>8. Privacy & Data Protection</h3>
          <p>Your personal data is processed in line with the Skylark Privacy Policy, Uganda's Data Protection and Privacy Act, 2019, and Data Protection & Privacy Regulations, 2021.</p>
          <p>Users can access, correct, delete, or object to data processing as described in the Privacy Policy.</p>

          <h3>9. Service Availability & Changes</h3>
          <p>Skylark may update or change features without notice, does not guarantee continuous or error-free functionality, and may temporarily suspend services for maintenance.</p>

          <h3>10. Limitation of Liability</h3>
          <p>To the fullest extent permitted by Ugandan law, Skylark is not liable for indirect or consequential losses, user errors or misuse of the Platform, or losses resulting from third-party service issues.</p>

          <h3>11. Indemnity</h3>
          <p>You agree to indemnify Skylark against claims arising from your breach of these Terms, misuse of the Platform, illegal behavior, or violation of third-party rights.</p>

          <h3>12. Governing Law & Dispute Resolution</h3>
          <p>These Terms are governed by the laws of Uganda. Disputes will be resolved through good-faith negotiation, mediation or arbitration (if agreed by parties), or Ugandan courts where necessary.</p>

          <h3>13. Changes to These Terms</h3>
          <p>We may update these Terms at any time. Continued use after updates = acceptance of new Terms.</p>

          <h3>14. Contact Information</h3>
          <p>For questions or concerns:</p>
          <p>Skylark â€“ Legal & Compliance<br>
          Email: [insert]<br>
          Address: [insert]<br>
          Phone: [insert]</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Document Modal Functions
    function openDocumentModal(type) {
      const modalIds = {
        'privacy': 'privacyModal',
        'pdpo': 'pdpoModal',
        'terms': 'termsModal'
      };
      const modalId = modalIds[type];
      if (modalId) {
        document.getElementById(modalId).classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeDocumentModal(type) {
      const modalIds = {
        'privacy': 'privacyModal',
        'pdpo': 'pdpoModal',
        'terms': 'termsModal'
      };
      const modalId = modalIds[type];
      if (modalId) {
        document.getElementById(modalId).classList.remove('active');
        document.body.style.overflow = 'hidden'; // Keep overflow hidden since welcome modal is still open
      }
    }

    // Welcome Modal Functions
    function showFormStep() {
      document.getElementById('welcomeStep').classList.remove('active');
      document.getElementById('formStep').classList.add('active');
    }

    async function submitWelcomeForm(event) {
      event.preventDefault();

      const email = document.getElementById('userEmail').value;
      const fileInput = document.getElementById('appProof');
      const submitButton = document.getElementById('submitButton');

      if (email && fileInput.files.length > 0) {
        const file = fileInput.files[0];

        // Check file size (3MB = 3 * 1024 * 1024 bytes)
        const maxSize = 3 * 1024 * 1024;
        if (file.size > maxSize) {
          alert('File size must be less than 3MB. Please choose a smaller image or compress it.');
          return;
        }

        // Disable submit button and show loading state
        submitButton.disabled = true;
        submitButton.textContent = 'Submitting...';

        try {

          // Convert image to base64
          const reader = new FileReader();
          reader.readAsDataURL(file);

          reader.onload = async function() {
            try {
              const imageData = reader.result;

              // Send to serverless function
              const response = await fetch('/api/submit-quest', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                  email: email,
                  imageData: imageData,
                  fileName: file.name
                })
              });

              const data = await response.json();

              console.log('Response status:', response.status);
              console.log('Response ok:', response.ok);
              console.log('Response data:', data);

              if (response.ok) {
                console.log('Successfully saved to Notion!');
                console.log('Hiding modal...');
                // Hide the modal
                const modal = document.getElementById('welcomeModal');
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
                console.log('Modal hidden, overflow set to auto');
              } else {
                console.error('API Error:', data);
                alert('Error submitting form: ' + (data.error || 'Unknown error'));
                submitButton.disabled = false;
                submitButton.textContent = 'Start Exploring';
              }
            } catch (error) {
              console.error('Error:', error);
              alert('Error submitting form. Please try again.');
              submitButton.disabled = false;
              submitButton.textContent = 'Start Exploring';
            }
          };

          reader.onerror = function() {
            console.error('Error reading file');
            alert('Error reading file. Please try again.');
            submitButton.disabled = false;
            submitButton.textContent = 'Start Exploring';
          };

        } catch (error) {
          console.error('Error:', error);
          alert('Error submitting form. Please try again.');
          submitButton.disabled = false;
          submitButton.textContent = 'Start Exploring';
        }
      }
    }

    // Show modal on page load
    window.addEventListener('load', function() {
      document.getElementById('welcomeModal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    });

    // Data
    const topics = [
      {
        id: 1,
        title: 'Smarter Remittances & Hidden Fees Awareness',
        icon: '',
        description: 'Learn to identify hidden fees and choose cost-effective remittance options for sending money home.',
        quests: [
          { id: 1, title: 'Blockscout 101', completed: false }
        ]
      },
      {
        id: 2,
        title: 'Purposeful Savings & Family Budgeting',
        icon: '',
        description: 'Build sustainable savings habits and create budgets that support your family\'s financial goals.',
        quests: []
      },
      {
        id: 3,
        title: 'Health & Protection',
        icon: '',
        description: 'Secure affordable health coverage and protection for your loved ones near and far.',
        quests: []
      },
      {
        id: 4,
        title: 'Stablecoins & Instant Digital Money Rails',
        icon: '',
        description: 'Discover how digital currencies and instant payment systems can transform how you send money.',
        quests: []
      },
      {
        id: 5,
        title: 'Empowering Families & Community Development',
        icon: '',
        description: 'Support local communities and create lasting impact through collective financial empowerment.',
        quests: []
      }
    ];

    // Open iframe for quest
    function openQuest(url) {
      const modal = document.getElementById('iframeModal');
      const iframe = document.getElementById('questIframe');
      iframe.src = url;
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    // Close iframe
    function closeIframe() {
      const modal = document.getElementById('iframeModal');
      const iframe = document.getElementById('questIframe');
      iframe.src = '';
      modal.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Toggle quest completion (now opens iframe for Mountain Expedition)
    function toggleQuest(topicId, questId) {
      // Open the patron activation page in iframe
      openQuest('https://app.skylarknova.xyz/patronActivation/66c9bf7f879b3cae7985666e');
    }

    // Render topics
    function renderTopics() {
      const grid = document.getElementById('topicsGrid');
      grid.innerHTML = '';

      topics.forEach(topic => {
        const card = document.createElement('div');
        card.className = 'topic-card';

        const questsHTML = topic.quests.map(quest => `
          <li class="quest-item" onclick="toggleQuest(${topic.id}, ${quest.id})">
            <span class="quest-check ${quest.completed ? 'completed' : ''}">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
                <path d="M10 3L4.5 8.5L2 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </span>
            <span class="quest-title">${quest.title}</span>
          </li>
        `).join('');

        card.innerHTML = `
          ${topic.icon ? `<div class="topic-icon"><span>${topic.icon}</span></div>` : ''}
          <h2 class="topic-title">${topic.title}</h2>
          <p class="topic-description">${topic.description}</p>
          <ul class="quests-list">
            ${questsHTML}
          </ul>
        `;

        grid.appendChild(card);
      });
    }

    // Initialize
    renderTopics();
  </script>
</body>
</html>
