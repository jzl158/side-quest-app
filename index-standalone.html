<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Side Quest</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(180deg, #0d0e2e 0%, #1a1035 100%);
      color: #ffffff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    }

    /* Hero Section */
    .hero-section {
      padding: 80px 20px 60px;
      text-align: center;
    }

    .hero-content {
      max-width: 900px;
      margin: 0 auto;
    }

    .hero-title {
      font-size: 3.5rem;
      font-weight: 700;
      margin: 0 0 1.5rem 0;
      color: #ffffff;
      letter-spacing: -0.02em;
      line-height: 1.1;
    }

    .hero-description {
      font-size: 1.125rem;
      line-height: 1.6;
      color: #a0a4b8;
      margin: 0 auto 3rem;
      max-width: 700px;
    }

    .family-hero-image {
      width: 100vw;
      max-width: 100vw;
      max-height: 300px;
      margin: 0 calc(-50vw + 50%);
      display: block;
      object-fit: cover;
      object-position: center 30%;
    }

    /* Topics Section */
    .topics-section {
      padding: 40px 60px 80px;
      width: 100%;
    }

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 32px;
      width: 100%;
    }

    /* Topic Cards */
    .topic-card {
      background: linear-gradient(135deg, rgba(0, 64, 193, 0.15) 0%, rgba(26, 16, 53, 0.95) 100%);
      border: 1px solid rgba(0, 64, 193, 0.2);
      border-radius: 16px;
      padding: 32px 28px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .topic-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(0, 64, 193, 0.7), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .topic-card:hover {
      transform: translateY(-8px);
      border-color: rgba(0, 64, 193, 0.5);
      box-shadow: 0 20px 40px rgba(0, 64, 193, 0.2);
    }

    .topic-card:hover::before {
      opacity: 1;
    }

    /* Topic Icon */
    .topic-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, rgba(0, 64, 193, 0.1) 0%, rgba(255, 255, 255, 0.95) 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      font-size: 28px;
      box-shadow: 0 4px 12px rgba(0, 64, 193, 0.2);
    }

    /* Topic Title */
    .topic-title {
      font-size: 1.1rem;
      font-weight: 700;
      margin: 0 0 12px 0;
      color: #ffffff;
      letter-spacing: -0.01em;
      line-height: 1.3;
    }

    /* Topic Description */
    .topic-description {
      font-size: 0.9375rem;
      line-height: 1.6;
      color: #a0a4b8;
      margin: 0 0 24px 0;
    }

    /* Quests List */
    .quests-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .quest-item {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 18px 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      border-radius: 12px;
      margin: 0;
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(255, 215, 0, 0.05) 100%);
      border: 2px solid #d4af37;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.2);
    }

    .quest-item:hover {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.25) 0%, rgba(255, 215, 0, 0.15) 100%);
      border-color: #f0d070;
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
      transform: translateY(-2px);
    }

    .quest-check {
      display: none;
    }

    .quest-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: #f0d070;
      line-height: 1.5;
      text-align: center;
      letter-spacing: 0.02em;
    }

    .quest-item:hover .quest-title {
      color: #ffd700;
    }

    /* Iframe Modal */
    .iframe-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
      padding: 20px;
    }

    .iframe-modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .iframe-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      height: 90vh;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .iframe-close {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 48px;
      height: 48px;
      background: #d4af37;
      color: #1a1035;
      border: 3px solid #1a1035;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.5rem;
      font-weight: 700;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1001;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .iframe-close:hover {
      background: #f0d070;
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
    }

    .iframe-modal iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2.5rem;
      }

      .hero-description {
        font-size: 1rem;
      }

      .topics-section {
        padding: 40px 20px 80px;
      }

      .topics-grid {
        grid-template-columns: 1fr;
      }

      .topic-card {
        padding: 28px 24px;
      }
    }

    @media (min-width: 769px) and (max-width: 1100px) {
      .topics-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="side-quest-page">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">Side Quest</h1>
        <p class="hero-description">
          Transform everyday moments into meaningful adventures through purposeful activities and shared experiences.
        </p>

        <!-- Family Image -->
        <img src="family2.png" alt="Family" class="family-hero-image">
      </div>
    </div>

    <!-- Topics Section -->
    <div class="topics-section">
      <div class="topics-grid" id="topicsGrid">
        <!-- Topics will be dynamically inserted here -->
      </div>
    </div>

    <!-- Iframe Modal -->
    <div class="iframe-modal" id="iframeModal">
      <div class="iframe-container">
        <button class="iframe-close" onclick="closeIframe()" aria-label="Close">Ã—</button>
        <iframe id="questIframe" src="" allow="payment; microphone; camera"></iframe>
      </div>
    </div>
  </div>

  <script>
    // Data
    const topics = [
      {
        id: 1,
        title: 'Smarter Remittances & Hidden Fees Awareness',
        icon: '',
        description: 'Learn to identify hidden fees and choose cost-effective remittance options for sending money home.',
        quests: [
          { id: 1, title: 'Blockscout 101', completed: false }
        ]
      },
      {
        id: 2,
        title: 'Purposeful Savings & Family Budgeting',
        icon: '',
        description: 'Build sustainable savings habits and create budgets that support your family\'s financial goals.',
        quests: []
      },
      {
        id: 3,
        title: 'Health & Protection',
        icon: '',
        description: 'Secure affordable health coverage and protection for your loved ones near and far.',
        quests: []
      },
      {
        id: 4,
        title: 'Stablecoins & Instant Digital Money Rails',
        icon: '',
        description: 'Discover how digital currencies and instant payment systems can transform how you send money.',
        quests: []
      },
      {
        id: 5,
        title: 'Empowering Families & Community Development',
        icon: '',
        description: 'Support local communities and create lasting impact through collective financial empowerment.',
        quests: []
      }
    ];

    // Open iframe for quest
    function openQuest(url) {
      const modal = document.getElementById('iframeModal');
      const iframe = document.getElementById('questIframe');
      iframe.src = url;
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    // Close iframe
    function closeIframe() {
      const modal = document.getElementById('iframeModal');
      const iframe = document.getElementById('questIframe');
      iframe.src = '';
      modal.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Toggle quest completion (now opens iframe for Mountain Expedition)
    function toggleQuest(topicId, questId) {
      // Open the patron activation page in iframe
      openQuest('https://app.skylarknova.xyz/patronActivation/66c9bf7f879b3cae7985666e');
    }

    // Render topics
    function renderTopics() {
      const grid = document.getElementById('topicsGrid');
      grid.innerHTML = '';

      topics.forEach(topic => {
        const card = document.createElement('div');
        card.className = 'topic-card';

        const questsHTML = topic.quests.map(quest => `
          <li class="quest-item" onclick="toggleQuest(${topic.id}, ${quest.id})">
            <span class="quest-check ${quest.completed ? 'completed' : ''}">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
                <path d="M10 3L4.5 8.5L2 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </span>
            <span class="quest-title">${quest.title}</span>
          </li>
        `).join('');

        card.innerHTML = `
          ${topic.icon ? `<div class="topic-icon"><span>${topic.icon}</span></div>` : ''}
          <h2 class="topic-title">${topic.title}</h2>
          <p class="topic-description">${topic.description}</p>
          <ul class="quests-list">
            ${questsHTML}
          </ul>
        `;

        grid.appendChild(card);
      });
    }

    // Initialize
    renderTopics();
  </script>
</body>
</html>
